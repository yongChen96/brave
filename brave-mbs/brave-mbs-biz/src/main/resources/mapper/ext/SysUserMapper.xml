<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cloud.brave.mapper.SysUserMapper">

    <select id="userPage" resultType="com.cloud.brave.dto.UserPageDTO">
        SELECT
        u.id,
        u.user_name AS userName,
        u.phone,
        u.e_mail AS eMail,
        u.sex,
        u.birthday,
        u.dept_id AS deptId,
        u.avatar_url AS avatarUrl,
        u.signature,
        u.is_lock AS isLock,
        d.dept_name AS deptName
        FROM
        sys_user u
        LEFT JOIN sys_dept d on u.dept_id = d.id
        WHERE u.del_state = 0
        AND u.is_lock = 0
        AND d.dept_status = 0
        AND d.del_state = 0
    </select>

</mapper>
